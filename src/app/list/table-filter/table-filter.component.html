<div class="filter-panel">
  <mat-expansion-panel [expanded]="false">
    <mat-expansion-panel-header>
      <mat-panel-title>
        <mat-icon>filter_list</mat-icon>
        <span class="panel-title-text">Search & Filter</span>
      </mat-panel-title>
    </mat-expansion-panel-header>
    
    <div class="filter-container">
      <mat-form-field appearance="outline" class="search-field">
        <mat-label>Search Jobs</mat-label>
        <input matInput placeholder="Search by job title, company, etc." 
               [(ngModel)]="searchValueJobs" 
               (keyup)="filterJobs()">
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>
      
      <mat-form-field appearance="outline">
        <mat-label>Type</mat-label>
        <mat-select [(value)]="typeFilter" (selectionChange)="filterJobs()">
          <mat-select-trigger>
            <span class="option-with-icon" *ngIf="typeFilter !== 'all'">
              <mat-icon *ngIf="typeFilter === 'remote'">home</mat-icon>
              <mat-icon *ngIf="typeFilter === 'hybrid'">compare_arrows</mat-icon>
              <mat-icon *ngIf="typeFilter === 'on site'">business</mat-icon>
              <span>
                {{ typeFilter === 'remote' ? 'Remote' : (typeFilter === 'hybrid' ? 'Hybrid' : (typeFilter === 'on site' ? 'On site' : 'All Types')) }}
              </span>
            </span>
            <span *ngIf="typeFilter === 'all'">All Types</span>
          </mat-select-trigger>
          <mat-option value="all">All Types</mat-option>
          <mat-option value="remote">
            <span class="option-with-icon">
              <mat-icon>home</mat-icon>
              Remote
            </span>
          </mat-option>
          <mat-option value="hybrid">
            <span class="option-with-icon">
              <mat-icon>compare_arrows</mat-icon>
              Hybrid
            </span>
          </mat-option>
          <mat-option value="on site">
            <span class="option-with-icon">
              <mat-icon>business</mat-icon>
              On site
            </span>
          </mat-option>
        </mat-select>
      </mat-form-field>
      
      <mat-form-field appearance="outline">
        <mat-label>Status</mat-label>
        <mat-select [(value)]="decisionFilter" (selectionChange)="filterJobs()">
          <mat-select-trigger>
            <span class="option-with-icon" *ngIf="decisionFilter !== 'all'">
              <mat-icon *ngIf="decisionFilter === 'positive'" class="success-icon">check_circle</mat-icon>
              <mat-icon *ngIf="decisionFilter === 'negative'" class="error-icon">cancel</mat-icon>
              <mat-icon *ngIf="decisionFilter === 'in progress'" class="info-icon">hourglass_empty</mat-icon>
              <mat-icon *ngIf="decisionFilter === 'expired'" class="warning-icon">watch_later</mat-icon>
              <span>
                {{ decisionFilter === 'positive' ? 'Positive' : (decisionFilter === 'negative' ? 'Negative' : (decisionFilter === 'in progress' ? 'In Progress' : (decisionFilter === 'expired' ? 'Expired' : 'All Statuses'))) }}
              </span>
            </span>
            <span *ngIf="decisionFilter === 'all'">All Statuses</span>
          </mat-select-trigger>
          <mat-option value="all">All Statuses</mat-option>
          <mat-option value="positive" class="positive-option">
            <span class="option-with-icon">
              <mat-icon class="success-icon">check_circle</mat-icon>
              Positive
            </span>
          </mat-option>
          <mat-option value="negative" class="negative-option">
            <span class="option-with-icon">
              <mat-icon class="error-icon">cancel</mat-icon>
              Negative
            </span>
          </mat-option>
          <mat-option value="in progress" class="in-progress-option">
            <span class="option-with-icon">
              <mat-icon class="info-icon">hourglass_empty</mat-icon>
              In Progress
            </span>
          </mat-option>
          <mat-option value="expired" class="expired-option">
            <span class="option-with-icon">
              <mat-icon class="warning-icon">watch_later</mat-icon>
              Expired
            </span>
          </mat-option>
        </mat-select>
      </mat-form-field>
      
      <div class="actions">
        <button mat-button color="warn" class="reset-btn" (click)="handleReset()">
          <mat-icon>refresh</mat-icon>
          Reset
        </button>
      </div>
    </div>
  </mat-expansion-panel>
</div>
